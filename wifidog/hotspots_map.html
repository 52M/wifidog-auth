<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Pragma" CONTENT="no-cache">
<meta http-equiv="Expires" CONTENT="-1">
<script src="http://maps.google.com/maps?file=api&v=1&key=ABQIAAAA5vF9-OSOF_GJc28iyF_kChT2yXp_ZAY8_ufC3CFXhHIE1NvwkxQoc1Ztgwb_coaAiyljA3jgv2rE7A" type="text/javascript"></script>
<script src="js/hotspots_status_map.js" type="text/javascript"></script>
<head>
<title>Carte des points d'accès déployés</title>
<style type='text/css'>
/* Google Maps stuff */
#map_title {
	background-color: #ffeac0;
	border: 1px solid #ff9900;
	padding: 5px;
	font: 14pt "Arial",sans-serif;
	font-weight: bold;
}
#map_toolbox {
	display: inline;
	float: right;	
}
#map_postalcode_overlay {
	display: none;
	background-color: #ffeac0;
	border: 1px solid #ff9900;
	padding: 10px;
	font: 10pt "Arial",sans-serif;
	font-weight: bold;
	position: absolute;
	z-index: 1;
}
#map_legend {
	background-color: #ffeac0;
	border: 1px solid #ff9900;
	padding: 5px;
	font: 10pt "Arial",sans-serif;
	vertical-align: middle;
}
#map_outer_hotspots_list {
	background-color: #ffffff;
	width: 25%; 
	height: 500px;
	overflow: auto;
	float: right; 
}
#map_hotspots_list {
	padding: 10px;
}
#map_frame {
	font: 10pt "Arial",sans-serif;
	width: 75%; 
	height: 500px;
 }
</style>
</head>
<body>
<div id="map_title">
<div id="map_toolbox">
<input type="button" value="Show me the closest hotspot" onclick="toggleOverlay('map_postalcode_overlay');">
<div id="map_postalcode_overlay">
Enter your postal code :<br/>
<input type="text" id="postal_code" size="10"><br/>
<input type="button" value="Show" onclick="toggleOverlay('map_postalcode_overlay'); p = document.getElementById('postal_code'); hotspots_map.findClosestHotspotByPostalCode(p.value);">
</div>
<input type="button" value="Refresh map" onclick="hotspots_map.redraw();">
</div>
Carte des points d'accès déployés
</div>
<div id="map_outer_hotspots_list"><div id="map_hotspots_list"></div></div>
<div id="map_frame"><p/><center><h2>Loading, please wait...</h2></center></div>
<div id="map_legend">
<b>Légende :</b> 
<img src='images/hotspots_status_map_up.png'> <i>le point d'accès est opérationnel</i> 
<img src='images/hotspots_status_map_down.png'> <i>le point d'accès est hors service</i> 
<img src='images/hotspots_status_map_unknown.png'> <i>non surveillé</i>
</div>
<script type="text/javascript">
function toggleOverlay(name) {
	o = document.getElementById('map_postalcode_overlay');
	if(o != undefined) {
		if(o.style.display == 'block')
			o.style.display='none';
		else
			o.style.display='block';
	}
}
hotspots_map = new HotspotsMap("map_frame", "hotspots_map");
hotspots_map.setXmlSourceUrl("hotspot_status.php?format=XML");
hotspots_map.setHotspotsInfoList("map_hotspots_list");
hotspots_map.setInitialPosition(45.513444, -73.592091, 5);
hotspots_map.redraw();
</script>
</body>
</html>